% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vcov.R
\name{vcov.cpn}
\alias{vcov.cpn}
\title{Variance-Covariance Matrix for a CPN Model}
\usage{
\method{vcov}{cpn}(object, ...)
}
\arguments{
\item{object}{An object of class \code{"cpn"} returned by the \code{\link{cpn}} function.}

\item{...}{Additional arguments (currently unused).}
}
\value{
A variance-covariance matrix of the model parameters. Rows and columns are named
according to the model parameters (regression coefficients, \code{mu}, and \code{sigma}).
If the Hessian is singular, contains \code{NA} values, or is otherwise invalid, a matrix
of \code{NA} values is returned with an appropriate warning.
}
\description{
Computes the variance-covariance matrix of parameter estimates from a fitted
Compound Poisson-Normal (CPN) regression model using the numerical Hessian
of the negative log-likelihood.
}
\details{
The Hessian matrix of the negative log-likelihood is computed using numerical finite differences
(via the \code{\link[numDeriv]{hessian}} function). The variance-covariance matrix is then obtained
by inverting this Hessian. The result reflects local curvature and can be used to compute standard
errors and confidence intervals for the parameters.
}
\examples{
set.seed(123)
df <- data.frame(x = rnorm(100))
df$y <- sapply(exp(0.5 * df$x), function(lam) {
  k <- rpois(1, lam)
  if (k == 0) return(0)
  sum(rnorm(k, mean = 1, sd = 1))
})
fit <- cpn(y ~ x, data = df)
vcov(fit)

}
\seealso{
\code{\link{cpn}}, \code{\link{summary.cpn}}, \code{\link[numDeriv]{hessian}}
}
